# nuqasm2

New OPENQASM 2.O translator to work with [Qiskit](https://github.com/Qiskit).

The current release is [v0.23](https://github.com/jwoehr/nuqasm2/releases/tag/v0.23).

`nuqasm2` now generates [`qiskit.circuit.QuantumCircuit`](https://qiskit.org/documentation/_modules/qiskit/circuit/quantumcircuit.html)
from nuqasm2 AST.

Tne `nuqasm2` command itself is a test driver: the companion project [`qis_job`](https://github.com/jwoehr/qis_job)
optionally uses `nuqasm2` code to assemble OPENQASM 2.O instead of using the Qiskit qasm parser.

Based on [Open Quantum Assembly Language](https://arxiv.org/pdf/1707.03429.pdf)

`nuqasm2/qasmast` is the class file that translates OPENQASM 2.O source into a Python dictionary with 4 keys:

* `t_sect`
  * Filepaths
  * Datetimes
  * Name of unit
* `c_sect`
  * Ops
  * Declarations
  * Comments
* `g_sect`
  * User gate definitions (e.g., `qelib1.inc`)
* `s_sect`
  * Saved source

There are many options controlling what gets generated.

There is a [detailed explanation of the Abstract Syntax Tree (AST) output](https://github.com/jwoehr/nuqasm2/blob/master/doc/nuqasm_ast.md) in the `doc/` directory


Output can include
* Source file path
* Line number
* Original source
* Element type
* Parameter values
* Other appropriate translation elements

`nuqasm2/ast2circ` is the class file that converts nuqasm2 AST to `qiskit.circuit.QuantumCircuit`

*Note* that when using the `nuqasm2` command, any qasm source file which does `include "qelib1.inc";` will need `qelib.inc`
either to be in the current directory, or in a directory mentioned to the ` -i --include_path` directive.

[Issues](https://github.com/jwoehr/nuqasm2/issues) welcome, including comments and suggestions.

```
$ nuqasm2 -h
usage: nuqasm2 [-h] [-n NAME] [-o OUTFILE] [-i INCLUDE_PATH] [-c] [-p | -t]
               [--perf_filepath PERF_FILEPATH] [-u] [-v] [--save_pgm_source]
               [--save_element_source] [--save_gate_source] [--save_source]
               [--show_gate_decls] [--sortby SORTBY]
               [filepaths [filepaths ...]]

Implements qasm2 translation to python data structures. Working from _Open
Quantum Assembly Language_ https://arxiv.org/pdf/1707.03429.pdf ......
Copyright 2019 Jack Woehr jwoehr@softwoehr.com PO Box 51, Golden, CO
80402-0051. Apache-2.0 license -- See LICENSE which you should have received
with this code. Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See
the License for the specific language governing permissions and limitations
under the License.

positional arguments:
  filepaths             Filepath to 1 or more .qasm file(s) (default stdin)

optional arguments:
  -h, --help            show this help message and exit
  -n NAME, --name NAME  Give a name to the translation unit (default 'main'
  -o OUTFILE, --outfile OUTFILE
                        Write AST to outfile overwriting silently, default is
                        stdout
  -i INCLUDE_PATH, --include_path INCLUDE_PATH
                        Search path for includes, paths separated by ':',
                        default include path is '.'
  -c, --circuit         Generate circuit and draw-print result
  -p, --profile         Profile translator run, writing to stderr and also to
                        file if --perf_filepath switch is also used (-p,
                        --profile is mutually exclusive with -t, --timeit)
  -t, --timeit          Time translator run (1 iteration) (gc enabled) (-t,
                        --timeit is mutually exclusive with -p, --profile)
  --perf_filepath PERF_FILEPATH
                        Save -p --profile data to provided filename
  -u, --unknown         exit with error on unknown element in source
  -v, --verbose         Increase verbosity each -v up to 3
  --save_pgm_source     Save program source in output
  --save_element_source
                        Save element source in output
  --save_gate_source    Save gate source in output
  --save_source         Save all source regions of output (equivalent to
                        --save_pgm_source --save_element_source
                        --save_gate_source)
  --show_gate_decls     Show gate declarations in code section output
  --sortby SORTBY       Sort sequence for performance data if -p switch used
                        ... one or more of the following separated by spaces
                        in a single string on the command line, e.g., --sortby
                        "calls cumtime file" : 'calls' == call count 'cumtime'
                        == cumulative time 'file' == file name 'module' ==
                        file name 'ncalls' == call count 'pcalls' == primitive
                        call count 'line' == line number 'name' == function
                        name 'nfl' == name/file/line 'stdname' == standard
                        name 'time' == internal time 'tottime' == internal
                        time ... default is cumtime

$ cat yiqing.qasm
// yiqing (one of many possible)
OPENQASM 2.0;
include "qelib1.inc";
qreg q[3];
creg c[3];
h q[0];
h q[1];
h q[2];
barrier q[0],q[1],q[2];
measure q[0] -> c[0];
measure q[1] -> c[1];
measure q[2] -> c[2];
$ nuqasm2 -i "${HOME}/work/QISKit/DEV/qiskit-terra/qiskit/qasm/libs" yiqing.qasm
{   'c_sect': [   {   'filenum': 0,
                      'linenum': 0,
                      'source': None,
                      'type': <ASTType.DECLARATION_QASM_2_0: 2000>},
                  {   'filenum': 0,
                      'include': 'qelib1.inc',
                      'linenum': 1,
                      'source': None,
                      'type': <ASTType.INCLUDE: 3000>},
                  {   'filenum': 1,
                      'linenum': 0,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 1,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 3,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 5,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 7,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 9,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 11,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 13,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 15,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 18,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 20,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 22,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 24,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 26,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 28,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 30,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 32,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 34,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 37,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 38,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 40,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 42,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 45,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 47,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 49,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 51,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 53,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 61,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 72,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 79,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 88,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 96,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 104,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 113,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 124,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 1,
                      'linenum': 135,
                      'source': None,
                      'type': <ASTType.COMMENT: 100>},
                  {   'filenum': 0,
                      'linenum': 2,
                      'qreg_name': 'q',
                      'qreg_num': '6',
                      'source': None,
                      'type': <ASTType.QREG: 20>},
                  {   'creg_name': 'c',
                      'creg_num': '3',
                      'filenum': 0,
                      'linenum': 3,
                      'source': None,
                      'type': <ASTType.CREG: 30>},
                  {   'filenum': 0,
                      'linenum': 4,
                      'op': 'h',
                      'param_list': None,
                      'reg_list': ['q[0]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 5,
                      'op': 'h',
                      'param_list': None,
                      'reg_list': ['q[2]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 6,
                      'op': 'h',
                      'param_list': None,
                      'reg_list': ['q[4]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 7,
                      'op': 'cx',
                      'param_list': None,
                      'reg_list': ['q[0]', 'q[1]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 8,
                      'op': 'cx',
                      'param_list': None,
                      'reg_list': ['q[2]', 'q[3]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 9,
                      'op': 'cx',
                      'param_list': None,
                      'reg_list': ['q[4]', 'q[5]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 10,
                      'op': 'x',
                      'param_list': None,
                      'reg_list': ['q[0]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 11,
                      'op': 'x',
                      'param_list': None,
                      'reg_list': ['q[2]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 12,
                      'op': 'x',
                      'param_list': None,
                      'reg_list': ['q[4]'],
                      'source': None,
                      'type': <ASTType.OP: 70>},
                  {   'filenum': 0,
                      'linenum': 13,
                      'reg_list': [   'q[0]',
                                      'q[1]',
                                      'q[2]',
                                      'q[3]',
                                      'q[4]',
                                      'q[5]'],
                      'source': None,
                      'type': <ASTType.BARRIER: 50>},
                  {   'filenum': 0,
                      'linenum': 14,
                      'source': None,
                      'source_reg': 'q[1]',
                      'target_reg': 'c[0]',
                      'type': <ASTType.MEASURE: 40>},
                  {   'filenum': 0,
                      'linenum': 15,
                      'source': None,
                      'source_reg': 'q[3]',
                      'target_reg': 'c[1]',
                      'type': <ASTType.MEASURE: 40>},
                  {   'filenum': 0,
                      'linenum': 16,
                      'source': None,
                      'source_reg': 'q[5]',
                      'target_reg': 'c[2]',
                      'type': <ASTType.MEASURE: 40>}],
    'g_sect': [   {   'filenum': 1,
                      'gate_name': 'u3(theta,phi,lambda)',
                      'gate_ops_list': [   {   'op': 'U',
                                               'op_param_list': [   'theta',
                                                                    'phi',
                                                                    'lambda'],
                                               'op_reg_list': ['q']}],
                      'gate_ops_raw_list': ['U(theta,phi,lambda) q;'],
                      'gate_param_list': ['q'],
                      'linenum': 6,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'u2(phi,lambda)',
                      'gate_ops_list': [   {   'op': 'U',
                                               'op_param_list': [   'pi/2',
                                                                    'phi',
                                                                    'lambda'],
                                               'op_reg_list': ['q']}],
                      'gate_ops_raw_list': ['U(pi/2,phi,lambda) q;'],
                      'gate_param_list': ['q'],
                      'linenum': 8,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'u1(lambda)',
                      'gate_ops_list': [   {   'op': 'U',
                                               'op_param_list': [   '0',
                                                                    '0',
                                                                    'lambda'],
                                               'op_reg_list': ['q']}],
                      'gate_ops_raw_list': ['U(0,0,lambda) q;'],
                      'gate_param_list': ['q'],
                      'linenum': 10,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cx',
                      'gate_ops_list': [   {   'op': 'CX',
                                               'op_param_list': None,
                                               'op_reg_list': ['c', 't']}],
                      'gate_ops_raw_list': ['CX c,t;'],
                      'gate_param_list': ['c', 't'],
                      'linenum': 12,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'id',
                      'gate_ops_list': [   {   'op': 'U',
                                               'op_param_list': ['0', '0', '0'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['U(0,0,0) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 14,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'u0(gamma)',
                      'gate_ops_list': [   {   'op': 'U',
                                               'op_param_list': ['0', '0', '0'],
                                               'op_reg_list': ['q']}],
                      'gate_ops_raw_list': ['U(0,0,0) q;'],
                      'gate_param_list': ['q'],
                      'linenum': 16,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'x',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'pi',
                                                                    '0',
                                                                    'pi'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u3(pi,0,pi) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 21,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'y',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'pi',
                                                                    'pi/2',
                                                                    'pi/2'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u3(pi,pi/2,pi/2) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 23,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'z',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['pi'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(pi) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 25,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'h',
                      'gate_ops_list': [   {   'op': 'u2',
                                               'op_param_list': ['0', 'pi'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u2(0,pi) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 27,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 's',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['pi/2'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(pi/2) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 29,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'sdg',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['-pi/2'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(-pi/2) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 31,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 't',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['pi/4'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(pi/4) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 33,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'tdg',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['-pi/4'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(-pi/4) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 35,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'rx(theta)',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'theta',
                                                                    '-pi/2',
                                                                    'pi/2'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u3(theta,-pi/2,pi/2) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 39,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'ry(theta)',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'theta',
                                                                    '0',
                                                                    '0'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u3(theta,0,0) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 41,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'rz(phi)',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['phi'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': ['u1(phi) a;'],
                      'gate_param_list': ['a'],
                      'linenum': 43,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cz',
                      'gate_ops_list': [   {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']}],
                      'gate_ops_raw_list': ['h b;', 'cx a,b;', 'h b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 48,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cy',
                      'gate_ops_list': [   {   'op': 'sdg',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 's',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']}],
                      'gate_ops_raw_list': ['sdg b;', 'cx a,b;', 's b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 50,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'swap',
                      'gate_ops_list': [   {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['b', 'a']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']}],
                      'gate_ops_raw_list': ['cx a,b;', 'cx b,a;', 'cx a,b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 52,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'ch',
                      'gate_ops_list': [   {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'sdg',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 's',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'x',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 's',
                                               'op_param_list': None,
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': [   'h b;',
                                               'sdg b;',
                                               'cx a,b;',
                                               'h b;',
                                               't b;',
                                               'cx a,b;',
                                               't b;',
                                               'h b;',
                                               's b;',
                                               'x b;',
                                               's a;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 54,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'ccx',
                      'gate_ops_list': [   {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['b', 'c']},
                                           {   'op': 'tdg',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'c']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['b', 'c']},
                                           {   'op': 'tdg',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'c']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 't',
                                               'op_param_list': None,
                                               'op_reg_list': ['a']},
                                           {   'op': 'tdg',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']}],
                      'gate_ops_raw_list': [   'h c;',
                                               'cx b,c;',
                                               'tdg c;',
                                               'cx a,c;',
                                               't c;',
                                               'cx b,c;',
                                               'tdg c;',
                                               'cx a,c;',
                                               't b;',
                                               't c;',
                                               'h c;',
                                               'cx a,b;',
                                               't a;',
                                               'tdg b;',
                                               'cx a,b;'],
                      'gate_param_list': ['a', 'b', 'c'],
                      'linenum': 62,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cswap',
                      'gate_ops_list': [   {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['c', 'b']},
                                           {   'op': 'ccx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b', 'c']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['c', 'b']}],
                      'gate_ops_raw_list': ['cx c,b;', 'ccx a,b,c;', 'cx c,b;'],
                      'gate_param_list': ['a', 'b', 'c'],
                      'linenum': 73,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'crx(lambda)',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['pi/2'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u3',
                                               'op_param_list': [   '-lambda/2',
                                                                    '0',
                                                                    '0'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u3',
                                               'op_param_list': [   'lambda/2',
                                                                    '-pi/2',
                                                                    '0'],
                                               'op_reg_list': ['b']}],
                      'gate_ops_raw_list': [   'u1(pi/2) b;',
                                               'cx a,b;',
                                               'u3(-lambda/2,0,0) b;',
                                               'cx a,b;',
                                               'u3(lambda/2,-pi/2,0) b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 80,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cry(lambda)',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'lambda/2',
                                                                    '0',
                                                                    '0'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u3',
                                               'op_param_list': [   '-lambda/2',
                                                                    '0',
                                                                    '0'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']}],
                      'gate_ops_raw_list': [   'u3(lambda/2,0,0) b;',
                                               'cx a,b;',
                                               'u3(-lambda/2,0,0) b;',
                                               'cx a,b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 89,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'crz(lambda)',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['lambda/2'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u1',
                                               'op_param_list': ['-lambda/2'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']}],
                      'gate_ops_raw_list': [   'u1(lambda/2) b;',
                                               'cx a,b;',
                                               'u1(-lambda/2) b;',
                                               'cx a,b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 97,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cu1(lambda)',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': ['lambda/2'],
                                               'op_reg_list': ['a']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u1',
                                               'op_param_list': ['-lambda/2'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u1',
                                               'op_param_list': ['lambda/2'],
                                               'op_reg_list': ['b']}],
                      'gate_ops_raw_list': [   'u1(lambda/2) a;',
                                               'cx a,b;',
                                               'u1(-lambda/2) b;',
                                               'cx a,b;',
                                               'u1(lambda/2) b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 105,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'cu3(theta,phi,lambda)',
                      'gate_ops_list': [   {   'op': 'u1',
                                               'op_param_list': [   'lambda+phi)/2'],
                                               'op_reg_list': ['c']},
                                           {   'op': 'u1',
                                               'op_param_list': [   'lambda-phi)/2'],
                                               'op_reg_list': ['t']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['c', 't']},
                                           {   'op': 'u3',
                                               'op_param_list': [   'phi+lambda)/2'],
                                               'op_reg_list': ['t']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['c', 't']},
                                           {   'op': 'u3',
                                               'op_param_list': [   'theta/2',
                                                                    'phi',
                                                                    '0'],
                                               'op_reg_list': ['t']}],
                      'gate_ops_raw_list': [   'u1((lambda+phi)/2) c;',
                                               'u1((lambda-phi)/2) t;',
                                               'cx c,t;',
                                               'u3(-theta/2,0,-(phi+lambda)/2) '
                                               't;',
                                               'cx c,t;',
                                               'u3(theta/2,phi,0) t;'],
                      'gate_param_list': ['c', 't'],
                      'linenum': 114,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'rxx(theta)',
                      'gate_ops_list': [   {   'op': 'u3',
                                               'op_param_list': [   'pi/2',
                                                                    'theta',
                                                                    '0'],
                                               'op_reg_list': ['a']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u1',
                                               'op_param_list': ['-theta'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'h',
                                               'op_param_list': None,
                                               'op_reg_list': ['b']},
                                           {   'op': 'u2',
                                               'op_param_list': [   '-pi',
                                                                    'pi-theta'],
                                               'op_reg_list': ['a']}],
                      'gate_ops_raw_list': [   'u3(pi/2,theta,0) a;',
                                               'h b;',
                                               'cx a,b;',
                                               'u1(-theta) b;',
                                               'cx a,b;',
                                               'h b;',
                                               'u2(-pi,pi-theta) a;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 125,
                      'source': None},
                  {   'filenum': 1,
                      'gate_name': 'rzz(theta)',
                      'gate_ops_list': [   {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']},
                                           {   'op': 'u1',
                                               'op_param_list': ['theta'],
                                               'op_reg_list': ['b']},
                                           {   'op': 'cx',
                                               'op_param_list': None,
                                               'op_reg_list': ['a', 'b']}],
                      'gate_ops_raw_list': [   'cx a,b;',
                                               'u1(theta) b;',
                                               'cx a,b;'],
                      'gate_param_list': ['a', 'b'],
                      'linenum': 136,
                      'source': None}],
    's_sect': [],
    't_sect': {   'datetime_finish': '2020-02-10T15:28:48.653376',
                  'datetime_start': '2020-02-10T15:28:48.650153',
                  'filepaths': [   'yiqing.qasm',
                                   '/home/jax/work/QISKit/DEV/qiskit-terra/qiskit/qasm/libs/qelib1.inc'],
                  'name': 'main'}}
```
